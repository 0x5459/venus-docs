(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{323:function(t,s,a){t.exports=a.p+"assets/img/venus-cluster.4bf6bb2c.png"},438:function(t,s,a){"use strict";a.r(s);var e=a(17),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"table-of-contents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table of Contents")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#background"}},[t._v("Background")])]),e("li",[e("a",{attrs:{href:"#how-mining-works"}},[t._v("How mining works")])]),e("li",[e("a",{attrs:{href:"#introducing-venus-modules"}},[t._v("Introducing venus modules")])]),e("li",[e("a",{attrs:{href:"#mining-architecture"}},[t._v("Mining architecture")])]),e("li",[e("a",{attrs:{href:"#hardware-requirements"}},[t._v("Hardware requirements")])]),e("li",[e("a",{attrs:{href:"#pre-requisites"}},[t._v("Pre-requisites")]),e("ul",[e("li",[e("a",{attrs:{href:"#setup-your-permanent-storage"}},[t._v("Setup your permanent storage")])]),e("li",[e("a",{attrs:{href:"#software-dependencies"}},[t._v("Software dependencies")])])])]),e("li",[e("a",{attrs:{href:"#install-venus-auth"}},[t._v("Install venus-auth")]),e("ul",[e("li",[e("a",{attrs:{href:"#using-mysql-optional"}},[t._v("Using MySQL (Optional)")])]),e("li",[e("a",{attrs:{href:"#token-gerneration"}},[t._v("Token gerneration")])])])]),e("li",[e("a",{attrs:{href:"#install-venus-gateway"}},[t._v("Install venus-gateway")])]),e("li",[e("a",{attrs:{href:"#install-venus-daemon"}},[t._v("Install venus daemon")]),e("ul",[e("li",[e("a",{attrs:{href:"#grant-access-to-venus-daemon"}},[t._v("Grant access to venus daemon")])])])]),e("li",[e("a",{attrs:{href:"#install-venus-wallet"}},[t._v("Install venus-wallet")])]),e("li",[e("a",{attrs:{href:"#install-venus-messager"}},[t._v("Install venus-messager")])]),e("li",[e("a",{attrs:{href:"#install-venus-miner"}},[t._v("Install venus-miner")]),e("ul",[e("li",[e("a",{attrs:{href:"#miner-management"}},[t._v("Miner management")])])])]),e("li",[e("a",{attrs:{href:"#install-venus-sealer"}},[t._v("Install venus-sealer")]),e("ul",[e("li",[e("a",{attrs:{href:"#start-pledging"}},[t._v("Start pledging")])])])]),e("li",[e("a",{attrs:{href:"#questions"}},[t._v("Questions？")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"background"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[t._v("#")]),t._v(" Background")]),t._v(" "),e("p",[t._v("Starting filecoin mining could be a daunting task given not only the large initial hardware and filecoin collateral "),e("a",{attrs:{href:"https://filscan.io/calculator",target:"_blank",rel:"noopener noreferrer"}},[t._v("investment"),e("OutboundLink")],1),t._v(" but also the entailing operation commitment. With ideas of security, ease of use and distributed mining pool in mind, Venus implementation of filecoin will help miners turn, what community say, "),e("a",{attrs:{href:"https://filecoinproject.slack.com/archives/CEGN061C5/p1610810730117900?thread_ts=1610809298.116800&cid=CEGN061C5",target:"_blank",rel:"noopener noreferrer"}},[t._v("a full time job"),e("OutboundLink")],1),t._v(" into a serious hobby. Hope this tutorial will get you started mining in no time!")]),t._v(" "),e("h2",{attrs:{id:"how-mining-works"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-mining-works"}},[t._v("#")]),t._v(" How mining works")]),t._v(" "),e("p",[t._v("There are two ways of getting started with mining using Venus.")]),t._v(" "),e("ol",[e("li",[t._v("Deploy minimum hardware and gain access to a publicly hosted shared venus modules."),t._v(" (See "),e("a",{attrs:{href:"https://venus.filecoin.io/Using-venus-Shared-Modules.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("this"),e("OutboundLink")],1),t._v(" tutorial to learn more)")]),t._v(" "),e("li",[t._v("Deploy all required hardware and venus modules by yourself. (The rest of this tutorial will walk you through this way of deploying venus mining operation)")])]),t._v(" "),e("p",[t._v("After following the rest of the trutorial and successful deployment, you can start pledging sectors, grow power and evantually obtain block rewards through your contribution to the network's storage capacity!")]),t._v(" "),e("h2",{attrs:{id:"introducing-venus-modules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introducing-venus-modules"}},[t._v("#")]),t._v(" Introducing venus modules")]),t._v(" "),e("p",[t._v("Depending on its role in a mining cluster, modules could be loosely broken down into two category: shared and independent. Shared modules could be thought as the plumbings of what you need to start sealing sectors. Most of the dealings with the blockchain like chain synchronizations, sending messages, winning a block and etc are handled by the shared modules. The idea is that many miners could all use a set of shared modules, thus reducing overhead in maintainence. Independent modules handles sealing and proving of your sectors, where you will be spend most of your time if you choose to use a publicly hosted shared venus modules. Note also that venus-wallet module could be deployed as either shared or independent.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("name")]),t._v(" "),e("th",[t._v("role")]),t._v(" "),e("th",[t._v("shared/independent")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("daemon for chain interactions")]),t._v(" "),e("td",[t._v("shared")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus-miner",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-miner"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("block winning and proving")]),t._v(" "),e("td",[t._v("shared")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus-messager",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-messager"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("chain message management")]),t._v(" "),e("td",[t._v("shared")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus-auth",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-auth"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("utility for authorized use of shared modules")]),t._v(" "),e("td",[t._v("shared")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/ipfs-force-community/venus-gateway",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-gateway"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("utility for controlled access point of shared modules")]),t._v(" "),e("td",[t._v("shared")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus-wallet",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-wallet"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("addresses/keys management")]),t._v(" "),e("td",[t._v("shared/independent")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://github.com/filecoin-project/venus-sealer",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-sealer"),e("OutboundLink")],1),t._v(", "),e("a",{attrs:{href:"https://github.com/filecoin-project/venus-sealer",target:"_blank",rel:"noopener noreferrer"}},[t._v("venus-worker"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("job scheduling, sealing and proving")]),t._v(" "),e("td",[t._v("independent")])])])]),t._v(" "),e("h2",{attrs:{id:"mining-architecture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mining-architecture"}},[t._v("#")]),t._v(" Mining architecture")]),t._v(" "),e("p",[t._v("Diagram below illustrates how venus modules interacts with one and another.")]),t._v(" "),e("p",[e("img",{attrs:{src:a(323),alt:"venus-cluster"}})]),t._v(" "),e("h2",{attrs:{id:"hardware-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hardware-requirements"}},[t._v("#")]),t._v(" Hardware requirements")]),t._v(" "),e("p",[t._v("Learn more about hardware requirements "),e("a",{attrs:{href:"https://docs.filecoin.io/mine/mining-architectures/#protocol-labs-example-architecture",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"pre-requisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisites"}},[t._v("#")]),t._v(" Pre-requisites")]),t._v(" "),e("p",[t._v("Before diving into deployment of your mining operation, please make sure you go through the following steps.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("It is recommended that you test your setup in nerpa or calibration network before deploying on mainnet.")])]),t._v(" "),e("h3",{attrs:{id:"setup-your-permanent-storage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setup-your-permanent-storage"}},[t._v("#")]),t._v(" Setup your permanent storage")]),t._v(" "),e("p",[t._v("Choose a network file system that you are familiar with (NFS for example) and deploy your storage cluster.")]),t._v(" "),e("h3",{attrs:{id:"software-dependencies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#software-dependencies"}},[t._v("#")]),t._v(" Software dependencies")]),t._v(" "),e("p",[t._v("You will need the following software installed before running venus.")]),t._v(" "),e("h4",{attrs:{id:"build-tools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#build-tools"}},[t._v("#")]),t._v(" Build tools")]),t._v(" "),e("p",[t._v("Ubuntu/Debian:")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mesa-opencl-icd ocl-icd-opencl-dev gcc "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" bzr jq pkg-config "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" clang build-essential hwloc libhwloc-dev "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -y "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" upgrade -y\n")])])]),e("p",[t._v("CentOS:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" gcc bzr jq pkgconfig clang llvm mesa-libGL-devel opencl-headers ocl-icd ocl-icd-devel hwloc-devel\n")])])]),e("h4",{attrs:{id:"go"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#go"}},[t._v("#")]),t._v(" Go")]),t._v(" "),e("p",[t._v("To build venus, you need a working installation of "),e("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go 1.16 or higher"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -c https://golang.org/dl/go1.16.2.linux-amd64.tar.gz -O - "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -xz -C /usr/local\n")])])]),e("p",[t._v("Add "),e("code",[t._v("/usr/local/go/bin")]),t._v(" to your path and setup "),e("code",[t._v("Go")]),t._v(" env. For most Linux distributions you can run something like:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"export PATH='),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v(':/usr/local/go/bin"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.bashrc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/.bashrc\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# setup go env")]),t._v("\ngo "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" -w "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GOPROXY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://goproxy.io,direct\ngo "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" -w "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GO111MODULE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on\n")])])]),e("p",[t._v("See the "),e("a",{attrs:{href:"https://golang.org/doc/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("official Golang installation instructions"),e("OutboundLink")],1),t._v(" if you get stuck.")]),t._v(" "),e("h2",{attrs:{id:"install-venus-auth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-auth"}},[t._v("#")]),t._v(" Install venus-auth")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-auth.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-auth.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-auth\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" \n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-auth "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" auth.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("Default config file for Venus-auth is located at "),e("code",[t._v("~/.venus-auth/config.toml")]),t._v(".")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Logs")]),t._v(" "),e("p",[t._v("Log defaults printing to console. InfluxDB is supported through configuration.")])]),t._v(" "),e("h3",{attrs:{id:"using-mysql-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-mysql-optional"}},[t._v("#")]),t._v(" Using MySQL (Optional)")]),t._v(" "),e("p",[t._v("MySQL 5.7 or above is supported and can be used as a substitute for the dedault Badger key-value  database. To use MySQL database, modify the db section of the config.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.venus-auth/config.toml\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Data source configuration item")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("db"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# support: badger (default), mysql ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the mysql DDL is in the script package ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql"')]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The following parameters apply to MySQL")]),t._v("\nDSN "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<USER>:<PASSWORD>@(127.0.0.1:3306)/venus_auth?parseTime=true&loc=Local&charset=utf8mb4&collation=utf8mb4_unicode_ci&readTimeout=10s&writeTimeout=10s"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# conns 1500 concurrent")]),t._v("\nmaxOpenConns "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("\nmaxIdleConns "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("128")]),t._v("\nmaxLifeTime "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"120s"')]),t._v("\nmaxIdleTime "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"30s"')]),t._v("\n")])])]),e("p",[t._v("Restart venus-auth for the configuration to take into effect.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" auth\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VENUS_AUTH_PID"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-auth "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" auth.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h3",{attrs:{id:"token-gerneration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token-gerneration"}},[t._v("#")]),t._v(" Token gerneration")]),t._v(" "),e("p",[t._v("venus-auth manages "),e("a",{attrs:{href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jwt"),e("OutboundLink")],1),t._v(" tokens used by other venus modules for them to talk to each other securely on the network.")]),t._v(" "),e("p",[t._v("Generate tokens for shared modules.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --perm specifies admin, sign, wirte or read permission of the token generated")]),t._v("\n$ ./venus-auth genToken --perm admin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SHARED"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SHARED_ADMIN_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("p",[t._v("Generate tokens for independent modules. Tokens can be logically grouped by "),e("code",[t._v("<USER>")]),t._v(" as individual miner joining the mining pool.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ ./venus-auth addUser --name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ ./venus-auth genToken --perm "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USER_WRITE_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ ./venus-auth genToken --perm "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USER_READ_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("Use "),e("code",[t._v("./venus-auth addUser <USER>")]),t._v(" to logically group different tokens.")])]),t._v(" "),e("h2",{attrs:{id:"install-venus-gateway"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-gateway"}},[t._v("#")]),t._v(" Install venus-gateway")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-gateway.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ipfs-force-community/venus-gateway.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-gateway\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ go mod tidy\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("p",[t._v("Start venus-gateway.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-gateway "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--listen /ip4/0.0.0.0/tcp/45132 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\nrun "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Use either a http or https url")]),t._v("\n--auth-url "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https://VENUS_AUTH_IP_ADDRESS:PORT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" venus-gateway.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h2",{attrs:{id:"install-venus-daemon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-daemon"}},[t._v("#")]),t._v(" Install venus daemon")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" deps\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("p",[t._v("Start venus daemon for chain synchronization. Use "),e("code",[t._v("--network")]),t._v(" to specify the network venus is connecting to.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus daemon --network nerpa "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--authURL "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https://VENUS_AUTH_IP_ADDRESS:PORT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" venus.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" \n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("Use "),e("code",[t._v("tail -f venus.log")]),t._v(" to check if there is any errors during sychronization.")])]),t._v(" "),e("h3",{attrs:{id:"grant-access-to-venus-daemon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#grant-access-to-venus-daemon"}},[t._v("#")]),t._v(" Grant access to venus daemon")]),t._v(" "),e("p",[t._v("By default, venus daemon only respond to local access. Change the following configuration to allow access from other addresses.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.venus/config.json\n")])])]),e("p",[t._v("Change "),e("code",[t._v("apiAddress")]),t._v(" from "),e("code",[t._v("/ip4/127.0.0.1/tcp/3453")]),t._v(" to "),e("code",[t._v("/ip4/0.0.0.0/tcp/3453")]),t._v(". Save and close the config file.")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"api"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"venusAuthURL"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://192.168.5.62:8989"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"apiAddress"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/0.0.0.0/tcp/3453"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accessControlAllowOrigin"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://localhost:8080"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:8080"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://127.0.0.1:8080"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accessControlAllowCredentials"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accessControlAllowMethods"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PUT"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("Restart venus daemon for the config to take into effects.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" venus\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VENUS_PID"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus daemon --network nerpa "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--authURL "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https://VENUS_AUTH_IP_ADDRESS:PORT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" venus.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" \n")])])]),e("h2",{attrs:{id:"install-venus-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-wallet"}},[t._v("#")]),t._v(" Install venus-wallet")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-wallet.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-wallet.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-wallet \n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("p",[t._v("Start venus-wallet.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-wallet run "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" wallet.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("p",[t._v("Set password for venus-wallet")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set lock and unlock password")]),t._v("\n$ ./venus-wallet setpwd\nPassword:******\nEnter Password again:******\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("Make sure you properly backup the password you just set.")])]),t._v(" "),e("p",[t._v("Generate addresses for later use.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-wallet new bls\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("OWNER_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ ./venus-wallet new bls\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WORKER_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("If you are testing on Nerpa or Calibration, you have to fund all your addresses with test coins from faucets. For nerpa, use this "),e("a",{attrs:{href:"https://faucet.nerpa.interplanetary.dev/funds.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("faucet"),e("OutboundLink")],1),t._v(". For calibration, use this "),e("a",{attrs:{href:"https://faucet.calibration.fildev.network/funds.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("faucet"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("p",[t._v("Change "),e("code",[t._v("[APIRegisterHub]")]),t._v(" section of "),e("code",[t._v("~/.venus_wallet/config.toml")]),t._v(" using the token you generated with venus-auth.")]),t._v(" "),e("div",{staticClass:"language-toml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-toml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("APIRegisterHub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("RegisterAPI")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/<IP_ADDRESS_OF_VENUS_GATEWAY>/tcp/45132"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Token")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<USER_READ_AUTH_TOKEN>"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("SupportAccounts")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<USER>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("Restart venus-wallet so that the changes takes into effect.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# grep [PID] of venus-wallet process")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" wallet\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill the process and restart")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-wallet run "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" wallet.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h2",{attrs:{id:"install-venus-messager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-messager"}},[t._v("#")]),t._v(" Install venus-messager")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-messager.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-messager.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-messager\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" deps\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" \n")])])]),e("p",[t._v("Start venus-messager. Note that "),e("code",[t._v("--auth-url")]),t._v(", "),e("code",[t._v("--node-url")]),t._v(" and "),e("code",[t._v("--auth-token")]),t._v(" are for venus-messager to be aware of other venus modules and be properly authenticated.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-messager run "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--auth-url"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https://VENUS_AUTH_IP_ADDRESS:PORT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--node-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VENUS_DAEMON_IP_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--gateway-url"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS_GATEWAY"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/45132 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--auth-token "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SHARED_ADMIN_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--db-type mysql "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--mysql-dsn "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<USER>:<PASSWORD>@(127.0.0.1:3306)/venus_messager?parseTime=true&loc=Local&readTimeout=10s&writeTimeout=10s"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" msg.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("If no database related params are specified, venus-messager will default to use sqlite.")])]),t._v(" "),e("h2",{attrs:{id:"install-venus-miner"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-miner"}},[t._v("#")]),t._v(" Install venus-miner")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-miner.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-miner.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-miner\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("p",[t._v("Initialize venus-miner.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-miner init\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For nettype, choose from mainnet, nerpanet, debug, 2k, calibnet")]),t._v("\n--nettype nerpanet\n--auth-api "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https://VENUS_AUTH_IP_ADDRESS:PORT"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--token "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("SHARED_ADMIN_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--gateway-api /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VENUS_GATEWAY_IP_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/45132\n--api /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VENUS_DAEMON_IP_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n")])])]),e("p",[t._v("Run venus-miner.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-miner run "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("miner.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h3",{attrs:{id:"miner-management"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#miner-management"}},[t._v("#")]),t._v(" Miner management")]),t._v(" "),e("p",[t._v("Once a miner, venus-sealer with proper miner id, connected to your shared modules. You can query the status of said miner id by the following.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-miner address state \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Addr"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<MINER_ID>"')]),t._v(",\n\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IsMining"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" true,\n\t\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Err"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" null\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("If "),e("code",[t._v("IsMining")]),t._v(" of your miner is "),e("code",[t._v("false")]),t._v(", you can run the following command to start the miner id.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-miner address start "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MINER_ID"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("p",[t._v("List all miner ids that have connected to venus-miner.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-miner address list\n")])])]),e("h2",{attrs:{id:"install-venus-sealer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-venus-sealer"}},[t._v("#")]),t._v(" Install venus-sealer")]),t._v(" "),e("p",[t._v("Download and compile the source code of venus-miner.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/filecoin-project/venus-sealer.git\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" venus-sealer\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RELEASE_TAG"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" deps\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("h4",{attrs:{id:"initialize-sealer-with-a-new-miner-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#initialize-sealer-with-a-new-miner-id"}},[t._v("#")]),t._v(" Initialize sealer with a new miner id")]),t._v(" "),e("p",[t._v("If you don't have a miner id yet, run the following command to initialize sealer.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-sealer init "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--worker "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WORKER_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--owner "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("OWNER_ADDRESS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Choose between 32G or 64G for mainnet")]),t._v("\n--sector-size 512M "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Choose from nerpa, calibration. Leave out --network for mainet?")]),t._v("\n--network nerpa "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Addresses of different shared venus modules")]),t._v("\n--node-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--messager-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS_MESSAGER"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--gateway-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS_GATEWAY"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--auth-token "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USER_WRITE_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Flags sealer to not storing any sealed sectors on the machine it runs on")]),t._v("\n--no-local-storage "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sealer.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Expect output close to the following")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:31.925+0800\tINFO\tmain\tvenus-sealer/init.go:182\tChecking "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" repo exists\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:31.926+0800\tINFO\tmain\tvenus-sealer/init.go:217\tChecking full node version\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:31.927+0800\tINFO\tmain\tvenus-sealer/init.go:233\tInitializing repo\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:31.928+0800\tINFO\tmain\tvenus-sealer/init.go:309\tInitializing libp2p identity\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:32.082+0800\tINFO\tmain\tvenus-sealer/init.go:485\tPushed CreateMiner message: aaf489f9-af4b-4e4b-9084-018d43f05b7e\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:41:32.082+0800\tINFO\tmain\tvenus-sealer/init.go:486\tWaiting "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" confirmation\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:46:32.088+0800\tINFO\tmain\tvenus-sealer/init.go:502\tNew miners address is: t01640 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t2cxzf7xvrqo3froqn2xgdqjdbydhkcrgakj7j3ma"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# miner id on nerpa and calibration starts with "t", while miner id on mainnet starts with "f"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:46:32.088+0800\tINFO\tmain\tvenus-sealer/init.go:381\tCreated new miner: t01640\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-04-25T18:46:32.089+0800\tINFO\tmain\tvenus-sealer/init.go:302\tSealer successfully created, you can now start it with "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'venus-sealer run'")]),t._v("\n")])])]),e("h4",{attrs:{id:"initialize-sealer-with-an-existing-miner-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#initialize-sealer-with-an-existing-miner-id"}},[t._v("#")]),t._v(" Initialize sealer with an existing miner id")]),t._v(" "),e("p",[t._v("If you already have a miner id, run the following command to initialize sealer.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ ./venus-sealer init "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--actor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MINER_ID"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Choose from nerpa, calibration. Leave out --network for mainet?")]),t._v("\n--network nerpa "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Config for different shared venus modules")]),t._v("\n--node-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--messager-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS_MESSAGER"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--gateway-url /ip4/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP_ADDRESS_OF_VENUS_GATEWAY"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/tcp/3453 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--auth-token "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USER_WRITE_AUTH_TOKEN"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Flags sealer to not store any sealed sectors on the machine it runs on")]),t._v("\n--no-local-storage "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sealer.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Expect output close to the following")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.170+0800    INFO    main    venus-sealer/init.go:193        Checking "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" repo exists\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.170+0800    INFO    main    venus-sealer/init.go:205        Checking full node version\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.174+0800    INFO    main    venus-sealer/init.go:221        Initializing repo\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.175+0800    INFO    main    venus-sealer/init.go:334        Initializing libp2p identity\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.181+0800    INFO    main    venus-sealer/init.go:406        Created new miner: t02105\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-06-07T04:15:49.181+0800    INFO    main    venus-sealer/init.go:290        Sealer successfully created, you can now start it with "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'venus-sealer run'")]),t._v("\n")])])]),e("h3",{attrs:{id:"start-pledging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start-pledging"}},[t._v("#")]),t._v(" Start pledging")]),t._v(" "),e("p",[t._v("Run venus-sealer.")]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./venus-sealer run "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" sealer.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("If you are running sealer for the 1st time, it will start to download proof parameters, which may take quite some time. If you are located in China, follow the tips "),e("a",{attrs:{href:"https://venus.filecoin.io/Tips-Running-In-China.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),e("OutboundLink")],1),t._v(" to speed up the process.")])]),t._v(" "),e("p",[t._v("Attach permanent storage to sealer.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-sealer storage attach --init --store "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ABSOLUTE_PATH_OF_YOUR_PERMANENT_STORAGE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --seal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ABSOLUTE_PATH_OF_YOUR_SEALING_STORAGE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("p",[t._v("Pledge a single sector.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-sealer sectors pledge \n")])])]),e("p",[t._v("Check ongoing sealing job.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ ./venus-sealer sealing\n")])])]),e("h2",{attrs:{id:"questions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#questions"}},[t._v("#")]),t._v(" Questions？")]),t._v(" "),e("p",[t._v("Find us on "),e("a",{attrs:{href:"https://filecoinproject.slack.com/archives/CEHHJNJS3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Slack"),e("OutboundLink")],1),t._v("!")])])}),[],!1,null,null,null);s.default=n.exports}}]);