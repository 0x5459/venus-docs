(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{412:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"configuration-analysis-of-venus-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-analysis-of-venus-worker"}},[t._v("#")]),t._v(" Configuration analysis of venus-worker")]),t._v(" "),a("p",[t._v("venus-worker is the execution body of data encapsulation. Let's take a look at its configuration file structure and configuration method.")]),t._v(" "),a("p",[t._v("The configuration file of "),a("code",[t._v("venus-worker")]),t._v(" is in "),a("code",[t._v("toml")]),t._v(" format. It should be noted that in this format, lines starting with "),a("code",[t._v("#")]),t._v(" will be regarded as comments and will not take effect.")]),t._v(" "),a("p",[t._v("Taking a mock instance as an example, a basic configuration might look like this:")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "worker-#1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_server.host = "192.168.1.100"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc_server.port = 17891")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sector_manager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("rpc_client.addr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/127.0.0.1/tcp/1789"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_client.headers = { User-Agent = "jsonrpc-core-client" }')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# piece_token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiMS0xMjUiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.JenwgK0JZcxFDin3cyhBUN41VXNvYw-_0UUT2ZOohM0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# allowed_miners = [10123, 10124, 10125]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# allowed_sizes = ["32GiB", "64GiB"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("enable_deals")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# max_deals = 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("max_retries")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# seal_interval = "30s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# recover_interval = "60s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_polling_interval = "180s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ignore_proof_check = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mock-tmp/store1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# plan = "snapup"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.allowed_miners = [10123, 10124, 10125]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.allowed_sizes = ["32GiB", "64GiB"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.enable_deals = true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.max_deals = 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.max_retries = 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.seal_interval = "30s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.recover_interval = "60s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.rpc_polling_interval = "180s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.ignore_proof_check = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mock-tmp/store2"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mock-tmp/store3"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#deprecated")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [remote_store]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "persist-store1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# location = "./mock-tmp/remote"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("attached")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "persist-store1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mock-tmp/remote"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("attached_selection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# enable_space_weighted = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc1 = 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc2 = 2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# c2 = 1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.ext_locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gpu1 = 1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.static_tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 2KiB = "./tmp/2k/sc-02-data-tree-d.dat"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fields for tree_d processor")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fields for pc1 processors")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# bin = "./dist/bin/venus-worker-plugin-pc1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# args = ["--args-1", "1", --"args-2", "2"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4-5"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("RUST_LOG")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6-7"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12-13"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fields for pc2 processors")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# cgroup.cpuset = "24-27"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"28-31"')]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fields for c2 processor")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"32-47"')]),t._v("\n")])])]),a("p",[t._v("Below we will analyze the configurable items one by one.")]),t._v(" "),a("h2",{attrs:{id:"worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#worker"}},[t._v("#")]),t._v(" [worker]")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("worker")]),t._v(" configuration item is used to configure some basic information of this instance.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# instance name, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# By default, the IP address of the network card used to connect to `venus-sector-manager` is used as the instance name")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "worker-#1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc service listening address, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# The default is "0.0.0.0", that is, listening to all addresses of the machine')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_server.host = "192.168.1.100"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc service listening port, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default is 17890")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc_server.port = 17891")]),t._v("\n")])])]),a("p",[t._v("In most cases, each field in this configuration item does not need to be manually configured.")]),t._v(" "),a("p",[t._v("Only in some special cases, such as:")]),t._v(" "),a("ul",[a("li",[t._v("want to name each "),a("code",[t._v("venus-worker")]),t._v(" instance according to your own choreography")]),t._v(" "),a("li",[t._v("Don't want to monitor all network card IPs, only allow local rpc requests")]),t._v(" "),a("li",[t._v("Multiple "),a("code",[t._v("venus-workers")]),t._v(" are deployed on one machine, in order to avoid port conflicts, they need to be distinguished")])]),t._v(" "),a("p",[t._v("In other scenarios, you need to manually configure the options here as needed.")]),t._v(" "),a("h2",{attrs:{id:"sector-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sector-manager"}},[t._v("#")]),t._v(" [sector_manager]")]),t._v(" "),a("p",[a("code",[t._v("sector_manager")]),t._v(" is used to configure "),a("code",[t._v("venus-sector-manager")]),t._v(" related information so that "),a("code",[t._v("venus-worker")]),t._v(" can connect to the corresponding service correctly.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-2"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sector_manager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The connection address used when constructing the rpc client, required, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Can accept `multiaddr` format, also can accept url format such as `http://127.0.0.1:1789`, `ws://127.0.0.1:1789`")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Normally, use the `multiaddr` format for consistency with other components")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("rpc_client.addr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/127.0.0.1/tcp/1789"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The http header information, optional items, dictionary type used when constructing the rpc client")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# default is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_client.headers = { User-Agent = "jsonrpc-core-client" }')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The verification token carried when requesting order piece data, optional items, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# default is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This is usually set when this instance allows encapsulation of sectors with order data")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The value of this item is usually the token value of the venus series service used")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# piece_token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiMS0xMjUiLCJwZXJtIjoic2lnbiIsImV4dCI6IiJ9.JenwgK0JZcxFDin3cyhBUN41VXNvYw-_0UUT2ZOohM0"')]),t._v("\n")])])]),a("h2",{attrs:{id:"sealing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sealing"}},[t._v("#")]),t._v(" [sealing]")]),t._v(" "),a("p",[a("code",[t._v("sealing")]),t._v(" is used to configure common parameter options in the sealing process.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-3"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Allowed `SP`, optional, number array format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defaults to null, allows tasks from any `SP`")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# After configuration, only package tasks from `SP` listed in the array can be executed")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# allowed_miners = [10123, 10124, 10125]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Allowed sector size, optional, string array format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defaults to null, allows sector tasks of any size")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# After configuration, only tasks that match the sector size listed in the array can be executed")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# allowed_sizes = ["32GiB", "64GiB"]')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Whether to allow adding orders to the sector, optional, boolean type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default is false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# When set to true, the `piece_token` item in `sector_manager` usually needs to be set at the same time")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# enable_deals = true")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The maximum number of orders allowed to be added to the sector, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# default is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# max_deals = 3")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# When an error of the temp type is encountered during the encapsulation process, the number of retries, optional items, number format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# default is 5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# max_retries = 3")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# When a temp type error is encountered during the encapsulation process, the retry interval, optional items, time string format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# The default is "30s", which is 30 seconds')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# recover_interval = "30s"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Idle `sealing_store` application interval for sealing tasks, optional, time string format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# The default is "30s", which is 30 seconds')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# seal_interval = "30s"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rpc status polling request interval, optional, time string format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# The default is "180s", which is 180 seconds')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# During the encapsulation process, some links use the polling method to obtain non-real-time information, such as message uploading.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This value helps to avoid overly frequent requests consuming network resources")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rpc_polling_interval = "180s"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Whether to skip the local verification link of proof, optional, boolean format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default is false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Usually only set this for things like testing")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ignore_proof_check = false")]),t._v("\n")])])]),a("p",[t._v("The configuration items in "),a("code",[t._v("sealing")]),t._v(" usually have default items preset by experience, which makes us not need to configure it by ourselves in most cases.")]),t._v(" "),a("h3",{attrs:{id:"special-configuration-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-configuration-example"}},[t._v("#")]),t._v(" Special configuration example")]),t._v(" "),a("h4",{attrs:{id:"_1-test-network-serving-only-specific-sp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-test-network-serving-only-specific-sp"}},[t._v("#")]),t._v(" 1. Test network, serving only specific "),a("code",[t._v("SP")])]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("allowed_miners")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2234")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2236")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2238")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2-large-scale-clusters-to-reduce-network-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-large-scale-clusters-to-reduce-network-usage"}},[t._v("#")]),t._v(" 2. Large-scale clusters to reduce network usage")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Among the recoverable exceptions, a considerable part is caused by network jitter, increase the interval of automatic recovery and reduce the frequency of requests")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("recover_interval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"90s"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The polling request in the normal process also increases the interval time and reduces the request frequency")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("rpc_polling_interval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"300s"')]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-increase-the-possibility-of-abnormal-self-healing-of-sectors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-increase-the-possibility-of-abnormal-self-healing-of-sectors"}},[t._v("#")]),t._v(" 3. Increase the possibility of abnormal self-healing of sectors")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Increase the number of autorecovery attempts")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("max_retries")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Increase the auto-recovery interval")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("recover_interval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"60s"')]),t._v("\n")])])]),a("p",[t._v("##[[sealing_thread]]")]),t._v(" "),a("p",[a("code",[t._v("sealing_thread")]),t._v(" is used to configure for each sector worker thread. Multiple "),a("code",[t._v("sealing_thread")]),t._v(" configuration groups can exist in a configuration file.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-4"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Sector data directory path, required, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# It is recommended to use an absolute path, the data directory and the worker thread are bound one-to-one")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme1/store"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# task type, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default value is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Optionally fill in sealer or snapup, when not filled in, the default is equivalent to selaer")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# plan = "snapup"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Custom parameters of the encapsulation process, only valid for the current worker thread")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.allowed_miners = [10123, 10124, 10125]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.allowed_sizes = ["32GiB", "64GiB"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.enable_deals = true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.max_retries = 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.seal_interval = "30s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.recover_interval = "60s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# sealing.rpc_polling_interval = "180s"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sealing.ignore_proof_check = false")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme2/store"')]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme3/store"')]),t._v("\n")])])]),a("p",[t._v("The number of "),a("code",[t._v("sealing_thread")]),t._v(" and the corresponding data paths need to be arranged according to the planning situation.")]),t._v(" "),a("p",[t._v("In order to facilitate combination and matching, each "),a("code",[t._v("sealing_thread")]),t._v(" can be configured with an independent "),a("code",[t._v("sealing")]),t._v(" sub-item, which satisfies:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The naming, type and effect of configurable items are consistent with the general "),a("code",[t._v("sealing")]),t._v(" items")])]),t._v(" "),a("li",[a("p",[t._v("Only valid for the current worker thread")])]),t._v(" "),a("li",[a("p",[t._v("When not configured use the value in the generic "),a("code",[t._v("sealing")]),t._v(" item")])])]),t._v(" "),a("h3",{attrs:{id:"special-configuration-example-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-configuration-example-2"}},[t._v("#")]),t._v(" Special configuration example")]),t._v(" "),a("h4",{attrs:{id:"_1-two-worker-threads-each-serving-a-different-sp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-two-worker-threads-each-serving-a-different-sp"}},[t._v("#")]),t._v(" 1. Two worker threads, each serving a different "),a("code",[t._v("SP")])]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme2/store"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("sealing.allowed_miners")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1357")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme3/store"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("sealing.allowed_miners")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2468")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2-two-worker-threads-each-serving-different-sector-sizes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-two-worker-threads-each-serving-different-sector-sizes"}},[t._v("#")]),t._v(" 2. Two worker threads, each serving different sector sizes")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme2/store"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("sealing.allowed_sizes")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"32GiB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/nvme3/store"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("sealing.allowed_sizes")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"64GiB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"remote-store-deprecated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remote-store-deprecated"}},[t._v("#")]),t._v(" [remote_store] deprecated")]),t._v(" "),a("p",[a("code",[t._v("remote_store")]),t._v(" is used to configure where the completed sector persistent data is saved.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-5"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("remote_store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# name, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The default is the absolute path corresponding to the path")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "remote-store1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# path, required, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# It is recommended to fill in the absolute path directly")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/remote/10.0.0.14/store"')]),t._v("\n\n")])])]),a("p",[t._v("Due to the need to coordinate storage location information between "),a("code",[t._v("venus-worker")]),t._v(" and "),a("code",[t._v("venus-sector-manager")]),t._v(", in many cases the same persistent storage directory is on the "),a("code",[t._v("venus-worker")]),t._v(" machine and the "),a("code",[t._v("venus-sector-manager")]),t._v(" The mount paths on the machines are not exactly the same, so we decided to use "),a("code",[t._v("name")]),t._v(" as the basis for coordination.")]),t._v(" "),a("p",[t._v("You can also choose not to configure "),a("code",[t._v("name")]),t._v(" on both sides of "),a("code",[t._v("venus-worker")]),t._v(" and "),a("code",[t._v("venus-sector-manager")]),t._v(" during configuration if the mount path of the persistent storage directory is the same on all machines. In this case, both will use the absolute path as the "),a("code",[t._v("name")]),t._v(", which will also match.")]),t._v(" "),a("h2",{attrs:{id:"attached-selection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attached-selection"}},[t._v("#")]),t._v(" [attached_selection]")]),t._v(" "),a("p",[a("code",[t._v("attached_selection")]),t._v(" is used to configure the location where the persistent data of the selected sector is saved")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-6"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("attached_selection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Whether to enable the selection strategy with the remaining space as the weight, optional, boolean type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default is false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# enable_space_weighted = false")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"attached"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attached"}},[t._v("#")]),t._v(" [[attached]]")]),t._v(" "),a("p",[a("code",[t._v("attached")]),t._v(" is used to configure where the completed sector persistent data is saved, allowing multiple configurations at the same time.")]),t._v(" "),a("h3",{attrs:{id:"basic-configuration-example-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-7"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("attached")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# name, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The default is the absolute path corresponding to the path")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# name = "remote-store1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# path, required, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# It is recommended to fill in the absolute path directly")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/mnt/remote/10.0.0.14/store"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# read only, optional, boolean")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default is false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# readonly = true")]),t._v("\n\n")])])]),a("p",[t._v("Due to the need to coordinate storage location information between "),a("code",[t._v("venus-worker")]),t._v(" and "),a("code",[t._v("venus-sector-manager")]),t._v(", in many cases the same persistent storage directory is on the "),a("code",[t._v("venus-worker")]),t._v(" machine and the "),a("code",[t._v("venus-sector-manager")]),t._v(" The mount paths on the machines are not exactly the same, so we decided to use "),a("code",[t._v("name")]),t._v(" as the basis for coordination.")]),t._v(" "),a("p",[t._v("You can also choose not to configure "),a("code",[t._v("name")]),t._v(" on both sides of "),a("code",[t._v("venus-worker")]),t._v(" and "),a("code",[t._v("venus-sector-manager")]),t._v(" during configuration if the mount path of the persistent storage directory is the same on all machines. In this case, both will use the absolute path as the "),a("code",[t._v("name")]),t._v(", which will also match.")]),t._v(" "),a("h2",{attrs:{id:"processors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#processors"}},[t._v("#")]),t._v(" [processors]")]),t._v(" "),a("p",[a("code",[t._v("processors")]),t._v(" is used to configure encapsulated executors, and to encapsulate some information during computation.")]),t._v(" "),a("p",[t._v("This configuration item is actually divided into three sub-items, and we analyze them one by one.")]),t._v(" "),a("h3",{attrs:{id:"processors-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#processors-limit"}},[t._v("#")]),t._v(" [processors.limit]")]),t._v(" "),a("p",[a("code",[t._v("processors.limit")]),t._v(" is used to configure the control of the number of parallel tasks for different packaging stages. This is to reduce the competition for resources at different stages.")]),t._v(" "),a("p",[t._v("It should be noted that when external executors are configured, the number of external executors and the total allowed concurrency will also affect the number of parallel tasks.")]),t._v(" "),a("h4",{attrs:{id:"basic-configuration-example-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-8"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tree_d stage concurrency limit, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tree_d = 1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Concurrency limit for the pc1 stage, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc1 = 3")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Concurrency limit of the pc2 stage, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pc2 = 2")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Concurrency limit for stage c2, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# c2 = 1")]),t._v("\n")])])]),a("p",[t._v("For example, if "),a("code",[t._v("pc2 = 2")]),t._v(" is set, then at most two sectors can perform tasks in the "),a("code",[t._v("pc2")]),t._v(" phase at the same time.")]),t._v(" "),a("h3",{attrs:{id:"processors-ext-locks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#processors-ext-locks"}},[t._v("#")]),t._v(" [processors.ext_locks]")]),t._v(" "),a("p",[a("code",[t._v("processors.ext_locks")]),t._v(" is used to configure some custom lock restrictions, which is used in conjunction with the "),a("code",[t._v("locks")]),t._v(" configuration item in "),a("code",[t._v("[[processors.{stage_name}]]")]),t._v(".\nThis configuration item allows users to customize some restrictions and make different external processors subject to them.")]),t._v(" "),a("h4",{attrs:{id:"basic-configuration-example-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-9"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.ext_locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# some_name = some_number")]),t._v("\n")])])]),a("h4",{attrs:{id:"special-configuration-example-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-configuration-example-3"}},[t._v("#")]),t._v(" Special configuration example")]),t._v(" "),a("p",[a("code",[t._v("processors.ext_locks")]),t._v(" is not self-contained.")]),t._v(" "),a("h5",{attrs:{id:"a-gpu-shared-by-pc2-and-c2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-gpu-shared-by-pc2-and-c2"}},[t._v("#")]),t._v(" A GPU, shared by pc2 and c2")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.ext_locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("gpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("In this way, "),a("code",[t._v("pc2")]),t._v(" "),a("code",[t._v("c2")]),t._v(" will each start an external processor, and the two will compete, which means that the two will not happen at the same time.")]),t._v(" "),a("h5",{attrs:{id:"two-gpus-common-to-pc2-and-c2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#two-gpus-common-to-pc2-and-c2"}},[t._v("#")]),t._v(" Two GPUs, common to pc2 and c2")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.ext_locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("gpu1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("gpu2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("locks")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpu2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("In this way, "),a("code",[t._v("pc2")]),t._v(" "),a("code",[t._v("c2")]),t._v(" will each start two external processors, which will create a two-two competition relationship, which allows to limit a GPU to only execute one of the stages of tasks.")]),t._v(" "),a("h3",{attrs:{id:"processors-static-tree-d"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#processors-static-tree-d"}},[t._v("#")]),t._v(" [processors.static_tree_d]")]),t._v(" "),a("p",[a("code",[t._v("processors.static_tree_d")]),t._v(" is a configuration item introduced to improve the efficiency of "),a("code",[t._v("cc sector")]),t._v(".")]),t._v(" "),a("p",[t._v("When a static file path is configured for the corresponding sector size, this file will be used directly as the tree_d file for "),a("code",[t._v("cc sector")]),t._v(" without trying to generate it again.")]),t._v(" "),a("h4",{attrs:{id:"basic-configuration-example-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-10"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.static_tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("2KiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/tmp/2k/sc-02-data-tree-d.dat"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("32GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/tmp/32g/sc-02-data-tree-d.dat"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("64GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/tmp/64g/sc-02-data-tree-d.dat"')]),t._v("\n")])])]),a("h3",{attrs:{id:"processors-stage-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#processors-stage-name"}},[t._v("#")]),t._v(" [[processors.{stage_name}]]")]),t._v(" "),a("p",[t._v("This is the configuration group used to configure external actuators.")]),t._v(" "),a("p",[t._v("Currently "),a("code",[t._v("{stage_name}")]),t._v(" is optional")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("tree_d")])]),t._v(" "),a("li",[a("code",[t._v("pc1")])]),t._v(" "),a("li",[a("code",[t._v("pc2")])]),t._v(" "),a("li",[a("code",[t._v("c2")])])]),t._v(" "),a("p",[t._v("Each such configuration group means that an external executor of the corresponding stage will be started. The optional configuration items include:")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Custom external executor executable file path, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# By default, the executable file path corresponding to the main process will be used")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# bin = "./dist/bin/venus-worker-plugin-pc1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Customize the parameters of the external actuator, optional items, string array type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The default value is null, `venus-worker`'s own executor default parameters will be used")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# args = ["--args-1", "1", --"args-2", "2"]')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# numa affinity partition id, optional, number type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default value is null, no affinity will be set")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Need to fill in according to the host's numa partition")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# numa_preferred = 0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cpu core binding and limit options, optional, string type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The default value is null, no binding is set")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The format of the value follows the standard cgroup.cpuset format")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# cgroup.cpuset = "4-5"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Additional environment variables for external executors, optional, dictionary type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default value is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# envs = { RUST_LOG = "info" }')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The maximum number of concurrent tasks allowed by this executor")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The default value is null, unlimited, but whether the task is executed concurrently depends on the implementation of the external executor used")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Mainly used in pc1 so that multiple parallel links can be used, which can effectively save resources such as shared memory and thread pools")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# concurrent = 4")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Custom external limit lock name, optional, string array type")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default value is null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# locks = ["gpu1"]')]),t._v("\n")])])]),a("h4",{attrs:{id:"basic-configuration-example-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-configuration-example-11"}},[t._v("#")]),t._v(" Basic configuration example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("c2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0-7"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12-19"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8-11,24-27"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20-23,36-39"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"28-35"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2,3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40-45"')]),t._v("\n")])])]),a("p",[t._v("The above is an example "),a("code",[t._v("processors.{stage_name}")]),t._v(" configuration for a 48C + 4GPU based device. Under this configuration, it will start:")]),t._v(" "),a("ul",[a("li",[t._v("2 "),a("code",[t._v("pc1")]),t._v(" external executors, using "),a("code",[t._v("MULTICORE_SDR")]),t._v(" mode, each with 8 cores, allowing 2 concurrent tasks, and memory allocation preferentially uses this numa partition")]),t._v(" "),a("li",[t._v("2 "),a("code",[t._v("pc2")]),t._v(" external executors, each with 8 cores, each using a GPU")]),t._v(" "),a("li",[t._v("1 "),a("code",[t._v("c2")]),t._v(" external executor, allocated 8 cores, using a GPU")]),t._v(" "),a("li",[t._v("1 "),a("code",[t._v("tree_d")]),t._v(" external executor with 6 cores allocated")])]),t._v(" "),a("h4",{attrs:{id:"special-configuration-example-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-configuration-example-4"}},[t._v("#")]),t._v(" Special configuration example")]),t._v(" "),a("h5",{attrs:{id:"_1-closed-source-algorithmically-optimized-c2-external-executor-using-patch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-closed-source-algorithmically-optimized-c2-external-executor-using-patch"}},[t._v("#")]),t._v(" 1. Closed source, algorithmically optimized c2 external executor using patch")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/bin/venus-worker-c2-optimized\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40-47"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2,3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"_2-c2-external-executor-using-outsourced-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-c2-external-executor-using-outsourced-mode"}},[t._v("#")]),t._v(" 2. c2 external executor using outsourced mode")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/bin/venus-worker-c2-outsource\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("args")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--url"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/apis.filecoin.io/tcp/10086/https"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--timeout"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("LICENCE_PATH")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/tmp/c2.licence.dev"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"_3-use-cpu-mode-to-make-up-for-pc2-computing-power-when-gpu-is-insufficient"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-use-cpu-mode-to-make-up-for-pc2-computing-power-when-gpu-is-insufficient"}},[t._v("#")]),t._v(" 3. Use CPU mode to make up for pc2 computing power when GPU is insufficient")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8-11,24-27"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20-23,36-45"')]),t._v("\n")])])]),a("h4",{attrs:{id:"_4-under-the-optimal-ratio-the-total-amount-of-pc1-is-odd-and-cannot-be-divided-equally"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-under-the-optimal-ratio-the-total-amount-of-pc1-is-odd-and-cannot-be-divided-equally"}},[t._v("#")]),t._v(" 4. Under the optimal ratio, the total amount of pc1 is odd and cannot be divided equally")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("c2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0-41"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"48-92"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_5-hope-to-use-numa-0-area-to-complete-pc1-first"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-hope-to-use-numa-0-area-to-complete-pc1-first"}},[t._v("#")]),t._v(" 5. Hope to use numa 0 area to complete pc1 first")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("c2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0-47"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"48-86"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"a-minimal-working-configuration-file-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-minimal-working-configuration-file-example"}},[t._v("#")]),t._v(" A minimal working configuration file example")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sector_manager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("rpc_client.addr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ip4/{some_ip}/tcp/1789"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# According to actual resource planning")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store1}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store2}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store3}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store4}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store5}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store6}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store7}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("sealing_thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to sealing store8}"')]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("remote_store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{remote store name}"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to remote store}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.static_tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("32GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to static tree_d for 32GiB}"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("64GiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{path to static tree_d for 64GiB}"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# According to actual resource planning")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("pc2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("c2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0-7"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("numa_preferred")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12-19"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("concurrent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_MULTICORE_SDR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8-11,24-27"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20-23,36-39"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_COLUMN_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("FIL_PROOFS_USE_GPU_TREE_BUILDER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"28-35"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("CUDA_VISIBLE_DEVICES")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2,3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("processors.tree_d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cgroup.cpuset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40-45"')]),t._v("\n")])])]),a("p",[t._v("After planning according to the actual situation and filling in the corresponding information, the above is a copy:")]),t._v(" "),a("ul",[a("li",[t._v("only do "),a("code",[t._v("cc sector")])]),t._v(" "),a("li",[t._v("tree_d free for 32GiB and 64GiB sectors")]),t._v(" "),a("li",[t._v("Integrated resource allocation")])]),t._v(" "),a("p",[t._v("The minimal configuration file.")])])}),[],!1,null,null,null);s.default=e.exports}}]);