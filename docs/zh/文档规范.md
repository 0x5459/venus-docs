# 文档规范

一个项目中包含多个组件（每个组件是单独的项目）时，文档需要一定的规范以保障：

- 项目变动时，能及时更新对应的文档
- 有比较清晰的结构，能够较快检索到所需文档
- 每个版本的文档是独立的。通常在新旧版本交替之际，两个版本都有使用者
- 对于不同受众有较高的可读性

此文档基于 `venus-docs` 及其相关组件进行说明。

## 原则

 `Venus` 的组件按照亲和性分为两大类：

- 链服务组件：多个组件相互协作提供服务，其中任何一个组件出现故障都会影响到正常的服务。其中 `venus-market` 作为链服务中的 `deals` 服务组件，在某些场景下可以不部署。

- 独立组件：使用链服务，相互协作完成封装及证明算力的组件，可独立部署，其正确运行依赖稳定的链服务。
    - `venus-sealer`,`venus-worker`及`venus-wallet`
    - `venus-sector-manager`,`venus-worker`及`venus-wallet`


基于项目的特点，文档管理原则如下：

### 独立组件

- 每个组件管理自身的设计文档及使用文档，`venus-docs` 中需要时用超链接。这样有利于：
    
    - 跟踪文档更新，可以根据组件版本快速定位对应文档
    - 项目变化后方便更新文档，不需要再去`venus-docs` 项目提交pr
    
- 每个组件应至少包含两个文档:

    - 支持正常启动的配置说明文档
    - 常用命令文档
    
### 链服务组件

- 链服务中的每个组件作为独立的个体，也需要满足独立组件部分的规范
- `venus-docs` 项目中管理文档类型：
    
    - 组件构建文档，相当于每个组件的构建入口
    - 链服务部署文档，可以分为入门篇和进阶篇。原则：
    （1）流程说明要简洁，不进行过多的扩展
    （2）每一步有必要的验证逻辑
    - 集群运维文档，包括机器资源规划及QA
    - 集群设计方案文档，这里是集群整体的设计方案，不是每个组件的设计方案
    
TODO：填充，优化

### 其他

- 运营文档，如孵化器，master选拨之类的怎么管理
- 配合`venus.filecoin.io`网站排版的一些规范，如仅能显示到二级标题，每个目录需要`README.md`作为引导页，`venus-docs` 更新后如何同步到网站等？

TODO：填充，优化
   

## 规范

### 命名规范

文件名应体现内容的关键信息，方便搜索引擎快速检索及维护，需要规范的命名方式：

- 专业术语的翻译应该统一，参考 [附录-中英文对照](#中英文对照)

- 多个词语之间用 `_` , 专业术语及各组件项目名称中的 `-` 不变， 如：`venus-auth_design_spec.md`， `use_chain-service.md` 等

- 模块下的文件名不再包含模块名，如：
```
|-- modules
    |-- venus_module.md
    |-- venus-auth_module.md
```
应为:
```
|-- modules
    |-- venus.md
    |-- venus-auth.md
```

- todo: 大小写怎么规范？如现在的README，venus，Venus-Market？

- todo: 中文模块的用中文名,英文模块的用英文名?


### 目录结构

TODO: 包括目录划分，文件归类，`_Footer.md` 存在的必要性等的说明


### 内容规范

1. 灵活使用vuepress提供的"提示"和“注意”功能，让文档阅读更有层次。例：

:::tip
这是一个提示，vuepress生成绿色
:::

:::warning
这是一个注意，vuepress生成黄色
:::

2. 命令行开头使用$，利于读者区别于终端输出，前面就没有$。例：

$ whois google.com
% IANA WHOIS server
% for more information on IANA, visit http://www.iana.org
% This query returned 1 object
3. 文档链接尽量使用相对，而非绝对链接。例：

相同目录可以直接用文件名
相对路径

4. 灵活使用markdown的`功能，把专用名词框起来。例：

venus-cluster，venus-market，等等

## 审阅流程

TODO： 每个组件自己的文档参照代码审阅文档，这里补充对于`venus-docs` 中pr的额外说明


## 附录

### 中英文对照

此表格主要用于文档中文件名的统一。 

TODO：需要补充及持续填充

中文 | 英文
:---: | :---:
集群 | cluster
链服务 | chain-service
算力服务 | -
市场服务 | -
规范 | spec
   